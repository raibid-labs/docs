<!DOCTYPE html>
<html lang="en" dir="ltr"><head><title>nushell</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;family=IBM Plex Mono:wght@400;600&amp;display=swap"/><link rel="preconnect" href="https://cdnjs.cloudflare.com" crossorigin="anonymous"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="og:site_name" content="Raibid Labs Documentation"/><meta property="og:title" content="nushell"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="nushell"/><meta name="twitter:description" content="Nushell Development Guide This guide covers using Nushell for raibid-ci development automation, scripting, and infrastructure management."/><meta property="og:description" content="Nushell Development Guide This guide covers using Nushell for raibid-ci development automation, scripting, and infrastructure management."/><meta property="og:image:alt" content="Nushell Development Guide This guide covers using Nushell for raibid-ci development automation, scripting, and infrastructure management."/><meta property="twitter:domain" content="raibid-labs.github.io/docs"/><meta property="og:url" content="https://raibid-labs.github.io/docs/projects/raibid-ci/docs/guides/nushell"/><meta property="twitter:url" content="https://raibid-labs.github.io/docs/projects/raibid-ci/docs/guides/nushell"/><link rel="icon" href="../../../../static/icon.png"/><meta name="description" content="Nushell Development Guide This guide covers using Nushell for raibid-ci development automation, scripting, and infrastructure management."/><meta name="generator" content="Quartz"/><link href="../../../../index.css" rel="stylesheet" type="text/css" spa-preserve/><style>.expand-button {
  position: absolute;
  display: flex;
  float: right;
  padding: 0.4rem;
  margin: 0.3rem;
  right: 0;
  color: var(--gray);
  border-color: var(--dark);
  background-color: var(--light);
  border: 1px solid;
  border-radius: 5px;
  opacity: 0;
  transition: 0.2s;
}
.expand-button > svg {
  fill: var(--light);
  filter: contrast(0.3);
}
.expand-button:hover {
  cursor: pointer;
  border-color: var(--secondary);
}
.expand-button:focus {
  outline: 0;
}

pre:hover > .expand-button {
  opacity: 1;
  transition: 0.2s;
}

#mermaid-container {
  position: fixed;
  contain: layout;
  z-index: 999;
  left: 0;
  top: 0;
  width: 100vw;
  height: 100vh;
  overflow: hidden;
  display: none;
  backdrop-filter: blur(4px);
  background: rgba(0, 0, 0, 0.5);
}
#mermaid-container.active {
  display: inline-block;
}
#mermaid-container > #mermaid-space {
  border: 1px solid var(--lightgray);
  background-color: var(--light);
  border-radius: 5px;
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  height: 80vh;
  width: 80vw;
  overflow: hidden;
}
#mermaid-container > #mermaid-space > .mermaid-content {
  padding: 2rem;
  position: relative;
  transform-origin: 0 0;
  transition: transform 0.1s ease;
  overflow: visible;
  min-height: 200px;
  min-width: 200px;
}
#mermaid-container > #mermaid-space > .mermaid-content pre {
  margin: 0;
  border: none;
}
#mermaid-container > #mermaid-space > .mermaid-content svg {
  max-width: none;
  height: auto;
}
#mermaid-container > #mermaid-space > .mermaid-controls {
  position: absolute;
  bottom: 20px;
  right: 20px;
  display: flex;
  gap: 8px;
  padding: 8px;
  background: var(--light);
  border: 1px solid var(--lightgray);
  border-radius: 6px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  z-index: 2;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 32px;
  height: 32px;
  padding: 0;
  border: 1px solid var(--lightgray);
  background: var(--light);
  color: var(--dark);
  border-radius: 4px;
  cursor: pointer;
  font-size: 16px;
  font-family: var(--bodyFont);
  transition: all 0.2s ease;
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:hover {
  background: var(--lightgray);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:active {
  transform: translateY(1px);
}
#mermaid-container > #mermaid-space > .mermaid-controls .mermaid-control-button:nth-child(2) {
  width: auto;
  padding: 0 12px;
  font-size: 14px;
}
/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VSb290IjoiL2hvbWUvcnVubmVyL3dvcmsvZG9jcy9kb2NzL3F1YXJ0ei9jb21wb25lbnRzL3N0eWxlcyIsInNvdXJjZXMiOlsibWVybWFpZC5pbmxpbmUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTs7QUFHRjtFQUNFO0VBQ0E7O0FBR0Y7RUFDRTs7O0FBS0Y7RUFDRTtFQUNBOzs7QUFJSjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTs7QUFHRjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBOztBQUdGO0VBQ0U7RUFDQTs7QUFJSjtFQUNFO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7O0FBRUE7RUFDRTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBO0VBQ0E7RUFDQTtFQUNBOztBQUVBO0VBQ0U7O0FBR0Y7RUFDRTs7QUFJRjtFQUNFO0VBQ0E7RUFDQSIsInNvdXJjZXNDb250ZW50IjpbIi5leHBhbmQtYnV0dG9uIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbG9hdDogcmlnaHQ7XG4gIHBhZGRpbmc6IDAuNHJlbTtcbiAgbWFyZ2luOiAwLjNyZW07XG4gIHJpZ2h0OiAwOyAvLyBOT1RFOiByaWdodCB3aWxsIGJlIHNldCBpbiBtZXJtYWlkLmlubGluZS50c1xuICBjb2xvcjogdmFyKC0tZ3JheSk7XG4gIGJvcmRlci1jb2xvcjogdmFyKC0tZGFyayk7XG4gIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWxpZ2h0KTtcbiAgYm9yZGVyOiAxcHggc29saWQ7XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgb3BhY2l0eTogMDtcbiAgdHJhbnNpdGlvbjogMC4ycztcblxuICAmID4gc3ZnIHtcbiAgICBmaWxsOiB2YXIoLS1saWdodCk7XG4gICAgZmlsdGVyOiBjb250cmFzdCgwLjMpO1xuICB9XG5cbiAgJjpob3ZlciB7XG4gICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIGJvcmRlci1jb2xvcjogdmFyKC0tc2Vjb25kYXJ5KTtcbiAgfVxuXG4gICY6Zm9jdXMge1xuICAgIG91dGxpbmU6IDA7XG4gIH1cbn1cblxucHJlIHtcbiAgJjpob3ZlciA+IC5leHBhbmQtYnV0dG9uIHtcbiAgICBvcGFjaXR5OiAxO1xuICAgIHRyYW5zaXRpb246IDAuMnM7XG4gIH1cbn1cblxuI21lcm1haWQtY29udGFpbmVyIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBjb250YWluOiBsYXlvdXQ7XG4gIHotaW5kZXg6IDk5OTtcbiAgbGVmdDogMDtcbiAgdG9wOiAwO1xuICB3aWR0aDogMTAwdnc7XG4gIGhlaWdodDogMTAwdmg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIGRpc3BsYXk6IG5vbmU7XG4gIGJhY2tkcm9wLWZpbHRlcjogYmx1cig0cHgpO1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuNSk7XG5cbiAgJi5hY3RpdmUge1xuICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgfVxuXG4gICYgPiAjbWVybWFpZC1zcGFjZSB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodCk7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICB0b3A6IDUwJTtcbiAgICBsZWZ0OiA1MCU7XG4gICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XG4gICAgaGVpZ2h0OiA4MHZoO1xuICAgIHdpZHRoOiA4MHZ3O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgICAmID4gLm1lcm1haWQtY29udGVudCB7XG4gICAgICBwYWRkaW5nOiAycmVtO1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xuICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuMXMgZWFzZTtcbiAgICAgIG92ZXJmbG93OiB2aXNpYmxlO1xuICAgICAgbWluLWhlaWdodDogMjAwcHg7XG4gICAgICBtaW4td2lkdGg6IDIwMHB4O1xuXG4gICAgICBwcmUge1xuICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgIGJvcmRlcjogbm9uZTtcbiAgICAgIH1cblxuICAgICAgc3ZnIHtcbiAgICAgICAgbWF4LXdpZHRoOiBub25lO1xuICAgICAgICBoZWlnaHQ6IGF1dG87XG4gICAgICB9XG4gICAgfVxuXG4gICAgJiA+IC5tZXJtYWlkLWNvbnRyb2xzIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIGJvdHRvbTogMjBweDtcbiAgICAgIHJpZ2h0OiAyMHB4O1xuICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgIGdhcDogOHB4O1xuICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgYmFja2dyb3VuZDogdmFyKC0tbGlnaHQpO1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tbGlnaHRncmF5KTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDZweDtcbiAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gICAgICB6LWluZGV4OiAyO1xuXG4gICAgICAubWVybWFpZC1jb250cm9sLWJ1dHRvbiB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICB3aWR0aDogMzJweDtcbiAgICAgICAgaGVpZ2h0OiAzMnB4O1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB2YXIoLS1saWdodGdyYXkpO1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1saWdodCk7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1kYXJrKTtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgZm9udC1mYW1pbHk6IHZhcigtLWJvZHlGb250KTtcbiAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuMnMgZWFzZTtcblxuICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1saWdodGdyYXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgJjphY3RpdmUge1xuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgxcHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU3R5bGUgdGhlIHJlc2V0IGJ1dHRvbiBkaWZmZXJlbnRseVxuICAgICAgICAmOm50aC1jaGlsZCgyKSB7XG4gICAgICAgICAgd2lkdGg6IGF1dG87XG4gICAgICAgICAgcGFkZGluZzogMCAxMnB4O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIl19 */</style><link href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../../../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../../../../static/contentIndex.json").then(data => data.json())</script><link rel="alternate" type="application/rss+xml" title="RSS Feed" href="https://raibid-labs.github.io/docs/index.xml"/><meta property="og:image:width" content="1200"/><meta property="og:image:height" content="630"/><meta property="og:image" content="https://raibid-labs.github.io/docs/projects/raibid-ci/docs/guides/nushell-og-image.webp"/><meta property="og:image:url" content="https://raibid-labs.github.io/docs/projects/raibid-ci/docs/guides/nushell-og-image.webp"/><meta name="twitter:image" content="https://raibid-labs.github.io/docs/projects/raibid-ci/docs/guides/nushell-og-image.webp"/><meta property="og:image:type" content="image/.webp"/></head><body data-slug="projects/raibid-ci/docs/guides/nushell"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="../../../..">Raibid Labs Documentation</a></h2><div class="spacer mobile-only"></div><div class="flex-component" style="flex-direction: row; flex-wrap: nowrap; gap: 1rem;"><div style="flex-grow: 1; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><div class="search"><button class="search-button"><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg><p>Search</p></button><div class="search-container"><div class="search-space"><input autocomplete="off" class="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div class="search-layout" data-preview="true"></div></div></div></div></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button></div><div style="flex-grow: 0; flex-shrink: 1; flex-basis: auto; order: 0; align-self: center; justify-self: center;"><button class="readermode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" class="readerIcon" fill="currentColor" stroke="currentColor" stroke-width="0.2" stroke-linecap="round" stroke-linejoin="round" width="64px" height="64px" viewBox="0 0 24 24" aria-label="Reader mode"><title>Reader mode</title><g transform="translate(-1.8, -1.8) scale(1.15, 1.2)"><path d="M8.9891247,2.5 C10.1384702,2.5 11.2209868,2.96705384 12.0049645,3.76669482 C12.7883914,2.96705384 13.8709081,2.5 15.0202536,2.5 L18.7549359,2.5 C19.1691495,2.5 19.5049359,2.83578644 19.5049359,3.25 L19.5046891,4.004 L21.2546891,4.00457396 C21.6343849,4.00457396 21.9481801,4.28672784 21.9978425,4.6528034 L22.0046891,4.75457396 L22.0046891,20.25 C22.0046891,20.6296958 21.7225353,20.943491 21.3564597,20.9931534 L21.2546891,21 L2.75468914,21 C2.37499337,21 2.06119817,20.7178461 2.01153575,20.3517706 L2.00468914,20.25 L2.00468914,4.75457396 C2.00468914,4.37487819 2.28684302,4.061083 2.65291858,4.01142057 L2.75468914,4.00457396 L4.50368914,4.004 L4.50444233,3.25 C4.50444233,2.87030423 4.78659621,2.55650904 5.15267177,2.50684662 L5.25444233,2.5 L8.9891247,2.5 Z M4.50368914,5.504 L3.50468914,5.504 L3.50468914,19.5 L10.9478955,19.4998273 C10.4513189,18.9207296 9.73864328,18.5588115 8.96709342,18.5065584 L8.77307039,18.5 L5.25444233,18.5 C4.87474657,18.5 4.56095137,18.2178461 4.51128895,17.8517706 L4.50444233,17.75 L4.50368914,5.504 Z M19.5049359,17.75 C19.5049359,18.1642136 19.1691495,18.5 18.7549359,18.5 L15.2363079,18.5 C14.3910149,18.5 13.5994408,18.8724714 13.0614828,19.4998273 L20.5046891,19.5 L20.5046891,5.504 L19.5046891,5.504 L19.5049359,17.75 Z M18.0059359,3.999 L15.0202536,4 L14.8259077,4.00692283 C13.9889509,4.06666544 13.2254227,4.50975805 12.7549359,5.212 L12.7549359,17.777 L12.7782651,17.7601316 C13.4923805,17.2719483 14.3447024,17 15.2363079,17 L18.0059359,16.999 L18.0056891,4.798 L18.0033792,4.75457396 L18.0056891,4.71 L18.0059359,3.999 Z M8.9891247,4 L6.00368914,3.999 L6.00599909,4.75457396 L6.00599909,4.75457396 L6.00368914,4.783 L6.00368914,16.999 L8.77307039,17 C9.57551536,17 10.3461406,17.2202781 11.0128313,17.6202194 L11.2536891,17.776 L11.2536891,5.211 C10.8200889,4.56369974 10.1361548,4.13636104 9.37521067,4.02745763 L9.18347055,4.00692283 L8.9891247,4 Z"></path></g></svg></button></div></div><div class="explorer" data-behavior="link" data-collapsed="collapsed" data-savestate="true" data-data-fns="{&quot;order&quot;:[&quot;filter&quot;,&quot;map&quot;,&quot;sort&quot;],&quot;sortFn&quot;:&quot;(a,b)=>!a.isFolder&amp;&amp;!b.isFolder||a.isFolder&amp;&amp;b.isFolder?a.displayName.localeCompare(b.displayName,void 0,{numeric:!0,sensitivity:\&quot;base\&quot;}):!a.isFolder&amp;&amp;b.isFolder?1:-1&quot;,&quot;filterFn&quot;:&quot;node=>node.slugSegment!==\&quot;tags\&quot;&quot;,&quot;mapFn&quot;:&quot;node=>node&quot;}"><button type="button" class="explorer-toggle mobile-explorer hide-until-loaded" data-mobile="true" aria-controls="explorer-450"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><button type="button" class="title-button explorer-toggle desktop-explorer" data-mobile="false" aria-expanded="true"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-450" class="explorer-content" aria-expanded="false" role="group"><ul class="explorer-ul overflow" id="list-0"><li class="overflow-end"></li></ul></div><template id="template-file"><li><a href="#"></a></li></template><template id="template-folder"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div><button class="folder-button"><span class="folder-title"></span></button></div></div><div class="folder-outer"><ul class="content"></ul></div></li></template></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../../../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../projects/">Projects</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../projects/raibid-ci/">raibid ci</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../projects/raibid-ci/docs/">docs</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../../../../projects/raibid-ci/docs/guides/">guides</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>nushell</a></div></nav><h1 class="article-title">nushell</h1><p show-comma="true" class="content-meta"><time datetime="2025-11-16T03:15:14.285Z">Nov 16, 2025</time><span>6 min read</span></p></div></div><article class="popover-hint"><h1 id="nushell-development-guide">Nushell Development Guide<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#nushell-development-guide" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p>This guide covers using Nushell for raibid-ci development automation, scripting, and infrastructure management.</p>
<h2 id="table-of-contents">Table of Contents<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#table-of-contents" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><a href="#installation" class="internal alias">Installation</a></li>
<li><a href="#quick-start" class="internal alias">Quick Start</a></li>
<li><a href="#project-configuration" class="internal alias">Project Configuration</a></li>
<li><a href="#utility-modules" class="internal alias">Utility Modules</a></li>
<li><a href="#examples" class="internal alias">Examples</a></li>
<li><a href="#best-practices" class="internal alias">Best Practices</a></li>
<li><a href="#troubleshooting" class="internal alias">Troubleshooting</a></li>
</ul>
<h2 id="installation">Installation<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#installation" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="ubuntudebian">Ubuntu/Debian<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#ubuntudebian" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="bash" data-theme="github-light one-dark-pro"><code data-language="bash" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Install from Homebrew (recommended)</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">/bin/bash</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> -fsSL</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">brew</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nushell</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Or install from cargo</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">cargo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> nu</span></span></code></pre></figure>
<h3 id="verify-installation">Verify Installation<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#verify-installation" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="bash" data-theme="github-light one-dark-pro"><code data-language="bash" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nu</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --version</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Should show version 0.96 or later</span></span></code></pre></figure>
<h2 id="quick-start">Quick Start<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#quick-start" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="load-project-environment">Load Project Environment<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#load-project-environment" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="bash" data-theme="github-light one-dark-pro"><code data-language="bash" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Start Nushell</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Load project configuration</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/env.nu</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/config.nu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check project status</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">project-status</span></span></code></pre></figure>
<h3 id="run-example-scripts">Run Example Scripts<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#run-example-scripts" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="bash" data-theme="github-light one-dark-pro"><code data-language="bash" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check cluster health</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nu</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/examples/check-cluster.nu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check Redis health</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nu</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/examples/check-redis.nu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check Gitea health</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nu</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/examples/check-gitea.nu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Development workflow</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nu</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/examples/dev-workflow.nu</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --status</span></span></code></pre></figure>
<h2 id="project-configuration">Project Configuration<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#project-configuration" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="environment-variables">Environment Variables<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#environment-variables" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>The <code>env.nu</code> file sets up project-specific environment variables:</p>
<ul>
<li><code>RAIBID_ROOT</code> - Project root directory</li>
<li><code>RAIBID_SCRIPTS</code> - Scripts directory</li>
<li><code>RAIBID_MODULES</code> - Nushell modules directory</li>
<li><code>RAIBID_DOCS</code> - Documentation directory</li>
<li><code>RAIBID_SRC</code> - Source code directory</li>
<li><code>RAIBID_TESTS</code> - Tests directory</li>
<li><code>RAIBID_K3S_CONFIG</code> - k3s kubeconfig path</li>
<li><code>RAIBID_GITEA_URL</code> - Gitea instance URL</li>
<li><code>RAIBID_REDIS_URL</code> - Redis instance URL</li>
</ul>
<h3 id="configuration-functions">Configuration Functions<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#configuration-functions" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>The <code>config.nu</code> file provides helper functions:</p>
<h4 id="logging">Logging<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#logging" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">log-success</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Operation completed&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">log-error</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Something went wrong&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">log-warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;This is a warning&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">log-info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Informational message&quot;</span></span></code></pre></figure>
<h4 id="utilities">Utilities<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#utilities" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h4>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check if command exists</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">command-exists</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kubectl&quot;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # returns true/false</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check development prerequisites</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">check-dev-prerequisites</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Show project information</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">project-info</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Show project status</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">project-status</span></span></code></pre></figure>
<h2 id="utility-modules">Utility Modules<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#utility-modules" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="kubectl-module">kubectl Module<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#kubectl-module" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Interact with Kubernetes/k3s clusters.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> modules/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.nu</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> *</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check cluster connectivity</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-check-cluster</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Get cluster nodes</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-get-nodes</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Get pods in namespace</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-get-pods</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;default&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-get-pods</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-ci&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Get services</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-get-services</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;default&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check if namespace exists</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-namespace-exists</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-ci&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Create namespace</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-ensure-namespace</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-ci&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># View pod logs</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-logs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;my-pod&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;default&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">tail</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 100</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-logs</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;my-pod&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;default&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">follow</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Port forward</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-port-forward</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;service/gitea&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3000</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3000</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-ci&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Apply manifest</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-apply</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;manifests/deployment.yaml&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-ci&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Wait for deployment</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-wait-deployment</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;gitea&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-ci&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Execute command in pod</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-exec</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;my-pod&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;ls&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;-la&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;default&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Get resource usage</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-top-pods</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-ci&quot;</span></span></code></pre></figure>
<h3 id="redis-module">redis Module<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#redis-module" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Interact with Redis and Redis Streams.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> modules/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.nu</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> *</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check connection</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-check-connection</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;redis://localhost:6379&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Ping Redis</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-ping</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Get Redis info</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-info</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;memory&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;server&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Key operations</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-keys</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;*&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;mykey&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;mykey&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;myvalue&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-set</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;session&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;data&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">expire</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 3600</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-del</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;mykey&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Stream operations</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-stream-add</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid:jobs&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">job_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;123&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">type</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;build&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-stream-read</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid:jobs&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">count</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-stream-len</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid:jobs&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-stream-info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid:jobs&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Consumer groups</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-stream-create-group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid:jobs&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;workers&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">from-start</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-stream-read-group</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid:jobs&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;workers&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;worker-1&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">count</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 5</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-stream-ack</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid:jobs&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;workers&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;1234567890-0&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-stream-pending</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid:jobs&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;workers&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Utilities</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-memory</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-stats</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-monitor</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Real-time command monitoring</span></span></code></pre></figure>
<h3 id="gitea-module">gitea Module<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#gitea-module" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Interact with Gitea API.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> modules/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.nu</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> *</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Set GITEA_TOKEN environment variable for authenticated requests</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">$env</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">.GITEA_TOKEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;your-token-here&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check connection</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-check-connection</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-check-connection</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;http://localhost:3000&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Get version</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-version</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># User operations</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-user</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Repository operations</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-list-repos</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">limit</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 20</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-get-repo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;owner&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;repo&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-create-repo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;my-new-repo&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">description</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;My repo&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">private</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-delete-repo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;owner&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;repo&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">confirm</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Branch and tag operations</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-list-branches</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;owner&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;repo&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-list-tags</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;owner&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;repo&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Webhook operations</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-create-webhook</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;owner&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;repo&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;http://webhook.url&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">events</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;push&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;pull_request&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-list-webhooks</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;owner&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;repo&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Organization operations</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-create-org</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;my-org&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">description</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;My organization&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-list-orgs</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Release operations</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-create-release</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;owner&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;repo&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;v1.0.0&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">name</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Version 1.0&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">body</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Release notes&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-list-releases</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;owner&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;repo&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Search</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-search-repos</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">limit</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> 10</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Mirror repository</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-mirror-repo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;https://github.com/user/repo&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;mirrored-repo&quot;</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">private</span></span></code></pre></figure>
<h2 id="examples">Examples<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#examples" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="health-check-script">Health Check Script<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#health-check-script" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Create a comprehensive health check:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/usr/bin/env nu</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/env.nu</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/config.nu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> modules/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.nu</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> *</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> modules/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.nu</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> *</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> modules/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.nu</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> *</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> main</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [] {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    log-info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Running health checks...&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # Check k3s</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-check-cluster</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">        log-success</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;k3s is healthy&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">        kubectl-get-nodes</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">        log-error</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;k3s is not available&quot;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # Check Redis</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-check-connection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">        log-success</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Redis is healthy&quot;</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        print</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> $&quot;Memory: (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis-memory</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)&quot;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">        log-error</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Redis is not available&quot;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # Check Gitea</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-check-connection</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">) {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">        log-success</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Gitea is healthy&quot;</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> version</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea-version</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        print</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> $&quot;Version: (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$version.version</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)&quot;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    } </span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">        log-error</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Gitea is not available&quot;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">main</span></span></code></pre></figure>
<h3 id="ci-job-publisher">CI Job Publisher<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#ci-job-publisher" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Publish jobs to Redis Streams:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/usr/bin/env nu</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/env.nu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> modules/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">redis</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.nu</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> *</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> publish-job</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">job_type</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">repo</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">branch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] {</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> job_data</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        job_id</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">date now</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> format date</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;%Y%m%d%H%M%S&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        type</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $job_type</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        repo</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $repo</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        branch</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $branch</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">        timestamp</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">date now</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> format date</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;%Y-%m-%d %H:%M:%S&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    redis-stream-add</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> $env</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">.RAIBID_REDIS_STREAM</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $job_data</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    log-success</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> $&quot;Job published: (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$job_type</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">) for (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$repo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">):(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$branch</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)&quot;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">publish-job</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;build&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-labs/raibid-ci&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;main&quot;</span></span></code></pre></figure>
<h3 id="repository-mirror-automation">Repository Mirror Automation<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#repository-mirror-automation" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Mirror GitHub repositories to Gitea:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/usr/bin/env nu</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/env.nu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> modules/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">gitea</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.nu</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> *</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> mirror-repos</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">repos</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">>] {</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    for</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> repo</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $repos</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> parts</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$repo</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> split row</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;/&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> owner</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$parts</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> first</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">        let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$parts</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> last</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">)</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">        log-info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> $&quot;Mirroring (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$repo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)...&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">        gitea-mirror-repo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> $&quot;https://github.com/(</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$repo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $name</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> --</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">private</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">        log-success</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> $&quot;Mirrored: (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$repo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)&quot;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">    }</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">mirror-repos</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;raibid-labs/raibid-ci&quot;</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">    &quot;rust-lang/cargo&quot;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">]</span></span></code></pre></figure>
<h3 id="deployment-script">Deployment Script<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#deployment-script" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Deploy to k3s cluster:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/usr/bin/env nu</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/env.nu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> modules/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.nu</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> *</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">def</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;"> deploy</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> [</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">, </span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">manifest</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">] {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    log-info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> $&quot;Deploying to (</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">$namespace</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">)...&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # Ensure namespace exists</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    kubectl-ensure-namespace</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $namespace</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # Apply manifest</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    kubectl-apply</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $manifest</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $namespace</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # Wait for deployment</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    let</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> deployment_name</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-api&quot;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Extract from manifest</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    kubectl-wait-deployment</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $deployment_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $namespace</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    log-success</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Deployment complete!&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">    # Show pods</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    kubectl-get-pods</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $namespace</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> table</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">deploy</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-ci&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;manifests/api-deployment.yaml&quot;</span></span></code></pre></figure>
<h2 id="best-practices">Best Practices<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#best-practices" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="module-usage">Module Usage<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#module-usage" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Always use modules for reusable functionality:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Good</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">use</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> modules/</span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">.nu</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> *</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-get-pods</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;default&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Avoid</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> pods</span><span style="--shiki-light:#D73A49;--shiki-light-font-style:inherit;--shiki-dark:#C678DD;--shiki-dark-font-style:italic;"> -</span><span style="--shiki-light:#E36209;--shiki-light-font-style:inherit;--shiki-dark:#E06C75;--shiki-dark-font-style:italic;">n</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> default</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Raw commands</span></span></code></pre></figure>
<h3 id="error-handling">Error Handling<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#error-handling" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Use try-catch for operations that might fail:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">try</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    kubectl-get-pods</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-ci&quot;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">} </span><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;"> {</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    log-warning</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Namespace doesn't exist yet&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">    kubectl-ensure-namespace</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;raibid-ci&quot;</span></span>
<span data-line><span style="--shiki-light:#24292E;--shiki-dark:#ABB2BF;">}</span></span></code></pre></figure>
<h3 id="configuration-management">Configuration Management<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#configuration-management" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Always source environment and config files:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">#!/usr/bin/env nu</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/env.nu</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/config.nu</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Now you can use project functions</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">project-status</span></span></code></pre></figure>
<h3 id="logging-1">Logging<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#logging-1" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Use structured logging functions:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Good</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">log-info</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Starting deployment&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">log-success</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Deployment complete&quot;</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">log-error</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Deployment failed&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Avoid</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">print</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Starting deployment&quot;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # No visual distinction</span></span></code></pre></figure>
<h3 id="pipelines">Pipelines<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#pipelines" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Use Nushell pipelines for data transformation:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Get pod names in specific phase</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-get-pods</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;default&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    where</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> phase</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;Running&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    get</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> name</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Count pods by phase</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">kubectl-get-pods</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;default&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    group-by</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> phase</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">    transpose</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> key</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> count</span></span></code></pre></figure>
<h2 id="troubleshooting">Troubleshooting<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#troubleshooting" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h3 id="nushell-version">Nushell Version<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#nushell-version" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Ensure you’re using Nushell 0.96 or later:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="bash" data-theme="github-light one-dark-pro"><code data-language="bash" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">nu</span><span style="--shiki-light:#005CC5;--shiki-dark:#D19A66;"> --version</span></span></code></pre></figure>
<h3 id="module-path-issues">Module Path Issues<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#module-path-issues" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>If modules aren’t loading, check <code>NU_LIB_DIRS</code>:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">$env</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">.NU_LIB_DIRS</span></span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Should include /path/to/raibid-ci/scripts/nu/modules</span></span></code></pre></figure>
<p>Fix by sourcing config:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/config.nu</span></span></code></pre></figure>
<h3 id="command-not-found">Command Not Found<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#command-not-found" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Ensure tools are installed:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">command-exists</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;kubectl&quot;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Check kubectl</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">command-exists</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;redis-cli&quot;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Check redis-cli</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#E5C07B;">command-exists</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;curl&quot;</span><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">  # Check curl</span></span></code></pre></figure>
<h3 id="environment-variables-1">Environment Variables<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#environment-variables-1" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Check environment setup:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">$env</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> |</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> where</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> name</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =~</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;RAIBID&quot;</span></span></code></pre></figure>
<p>If variables are missing:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;">source</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> scripts/nu/env.nu</span></span></code></pre></figure>
<h3 id="api-token-issues">API Token Issues<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#api-token-issues" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>For Gitea operations requiring authentication:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="nu" data-theme="github-light one-dark-pro"><code data-language="nu" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Set token</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;">$env</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;">.GITEA_TOKEN</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> &quot;your-token-here&quot;</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Verify</span></span>
<span data-line><span style="--shiki-light:#032F62;--shiki-dark:#98C379;">&quot;GITEA_TOKEN&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#C678DD;"> in</span><span style="--shiki-light:#005CC5;--shiki-dark:#E5C07B;"> $env</span></span></code></pre></figure>
<h3 id="redis-connection">Redis Connection<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#redis-connection" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>If Redis connection fails:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="bash" data-theme="github-light one-dark-pro"><code data-language="bash" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check if Redis is running</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">redis-cli</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> ping</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check connection string</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $RAIBID_REDIS_URL</span></span></code></pre></figure>
<h3 id="k3s-connection">k3s Connection<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#k3s-connection" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>If kubectl commands fail:</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="bash" data-theme="github-light one-dark-pro"><code data-language="bash" data-theme="github-light one-dark-pro" style="display:grid;"><span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Check kubeconfig</span></span>
<span data-line><span style="--shiki-light:#005CC5;--shiki-dark:#56B6C2;">echo</span><span style="--shiki-light:#24292E;--shiki-dark:#E06C75;"> $RAIBID_KUBECONFIG</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-light:#6A737D;--shiki-light-font-style:inherit;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;"># Verify k3s is running</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#61AFEF;">sudo</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> systemctl</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> status</span><span style="--shiki-light:#032F62;--shiki-dark:#98C379;"> k3s</span></span></code></pre></figure>
<h2 id="additional-resources">Additional Resources<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#additional-resources" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li><a href="https://www.nushell.sh/" class="external">Nushell Official Documentation<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://www.nushell.sh/book/" class="external">Nushell Book<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://kubernetes.io/docs/reference/kubectl/" class="external">kubectl Reference<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://redis.io/commands" class="external">Redis Commands<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
<li><a href="https://docs.gitea.io/en-us/api-usage/" class="external">Gitea API<svg aria-hidden="true" class="external-icon" style="max-width:0.8em;max-height:0.8em;" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ul>
<h2 id="contributing">Contributing<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#contributing" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>When adding new modules or scripts:</p>
<ol>
<li>Follow existing patterns in <code>modules/</code></li>
<li>Add examples to <code>examples/</code></li>
<li>Update this guide</li>
<li>Test with <code>nu --commands &quot;source your-script.nu&quot;</code></li>
<li>Ensure CI validation passes</li>
</ol></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div class="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false,&quot;enableRadial&quot;:false}"></div><button class="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div class="global-graph-outer"><div class="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.2,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true,&quot;enableRadial&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" class="toc-header" aria-controls="toc-236" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><ul id="list-1" class="toc-content overflow"><li class="depth-0"><a href="#nushell-development-guide" data-for="nushell-development-guide">Nushell Development Guide</a></li><li class="depth-1"><a href="#table-of-contents" data-for="table-of-contents">Table of Contents</a></li><li class="depth-1"><a href="#installation" data-for="installation">Installation</a></li><li class="depth-2"><a href="#ubuntudebian" data-for="ubuntudebian">Ubuntu/Debian</a></li><li class="depth-2"><a href="#verify-installation" data-for="verify-installation">Verify Installation</a></li><li class="depth-1"><a href="#quick-start" data-for="quick-start">Quick Start</a></li><li class="depth-2"><a href="#load-project-environment" data-for="load-project-environment">Load Project Environment</a></li><li class="depth-2"><a href="#run-example-scripts" data-for="run-example-scripts">Run Example Scripts</a></li><li class="depth-1"><a href="#project-configuration" data-for="project-configuration">Project Configuration</a></li><li class="depth-2"><a href="#environment-variables" data-for="environment-variables">Environment Variables</a></li><li class="depth-2"><a href="#configuration-functions" data-for="configuration-functions">Configuration Functions</a></li><li class="depth-1"><a href="#utility-modules" data-for="utility-modules">Utility Modules</a></li><li class="depth-2"><a href="#kubectl-module" data-for="kubectl-module">kubectl Module</a></li><li class="depth-2"><a href="#redis-module" data-for="redis-module">redis Module</a></li><li class="depth-2"><a href="#gitea-module" data-for="gitea-module">gitea Module</a></li><li class="depth-1"><a href="#examples" data-for="examples">Examples</a></li><li class="depth-2"><a href="#health-check-script" data-for="health-check-script">Health Check Script</a></li><li class="depth-2"><a href="#ci-job-publisher" data-for="ci-job-publisher">CI Job Publisher</a></li><li class="depth-2"><a href="#repository-mirror-automation" data-for="repository-mirror-automation">Repository Mirror Automation</a></li><li class="depth-2"><a href="#deployment-script" data-for="deployment-script">Deployment Script</a></li><li class="depth-1"><a href="#best-practices" data-for="best-practices">Best Practices</a></li><li class="depth-2"><a href="#module-usage" data-for="module-usage">Module Usage</a></li><li class="depth-2"><a href="#error-handling" data-for="error-handling">Error Handling</a></li><li class="depth-2"><a href="#configuration-management" data-for="configuration-management">Configuration Management</a></li><li class="depth-2"><a href="#logging" data-for="logging">Logging</a></li><li class="depth-2"><a href="#pipelines" data-for="pipelines">Pipelines</a></li><li class="depth-1"><a href="#troubleshooting" data-for="troubleshooting">Troubleshooting</a></li><li class="depth-2"><a href="#nushell-version" data-for="nushell-version">Nushell Version</a></li><li class="depth-2"><a href="#module-path-issues" data-for="module-path-issues">Module Path Issues</a></li><li class="depth-2"><a href="#command-not-found" data-for="command-not-found">Command Not Found</a></li><li class="depth-2"><a href="#environment-variables-1" data-for="environment-variables-1">Environment Variables</a></li><li class="depth-2"><a href="#api-token-issues" data-for="api-token-issues">API Token Issues</a></li><li class="depth-2"><a href="#redis-connection" data-for="redis-connection">Redis Connection</a></li><li class="depth-2"><a href="#k3s-connection" data-for="k3s-connection">k3s Connection</a></li><li class="depth-1"><a href="#additional-resources" data-for="additional-resources">Additional Resources</a></li><li class="depth-1"><a href="#contributing" data-for="contributing">Contributing</a></li><li class="overflow-end"></li></ul></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.5.2</a> © 2025</p><ul><li><a href="https://github.com/raibid-labs">Raibid Labs</a></li><li><a href="https://github.com/raibid-labs/docs">Documentation Hub</a></li></ul></footer></div></div></body><script type="application/javascript">function n(){let t=this.parentElement;t.classList.toggle("is-collapsed");let e=t.getElementsByClassName("callout-content")[0];if(!e)return;let l=t.classList.contains("is-collapsed");e.style.gridTemplateRows=l?"0fr":"1fr"}function c(){let t=document.getElementsByClassName("callout is-collapsible");for(let e of t){let l=e.getElementsByClassName("callout-title")[0],s=e.getElementsByClassName("callout-content")[0];if(!l||!s)continue;l.addEventListener("click",n),window.addCleanup(()=>l.removeEventListener("click",n));let o=e.classList.contains("is-collapsed");s.style.gridTemplateRows=o?"0fr":"1fr"}}document.addEventListener("nav",c);
</script><script type="module">function f(i,e){if(!i)return;function r(o){o.target===this&&(o.preventDefault(),o.stopPropagation(),e())}function t(o){o.key.startsWith("Esc")&&(o.preventDefault(),e())}i?.addEventListener("click",r),window.addCleanup(()=>i?.removeEventListener("click",r)),document.addEventListener("keydown",t),window.addCleanup(()=>document.removeEventListener("keydown",t))}function y(i){for(;i.firstChild;)i.removeChild(i.firstChild)}var h=class{constructor(e,r){this.container=e;this.content=r;this.setupEventListeners(),this.setupNavigationControls(),this.resetTransform()}isDragging=!1;startPan={x:0,y:0};currentPan={x:0,y:0};scale=1;MIN_SCALE=.5;MAX_SCALE=3;cleanups=[];setupEventListeners(){let e=this.onMouseDown.bind(this),r=this.onMouseMove.bind(this),t=this.onMouseUp.bind(this),o=this.resetTransform.bind(this);this.container.addEventListener("mousedown",e),document.addEventListener("mousemove",r),document.addEventListener("mouseup",t),window.addEventListener("resize",o),this.cleanups.push(()=>this.container.removeEventListener("mousedown",e),()=>document.removeEventListener("mousemove",r),()=>document.removeEventListener("mouseup",t),()=>window.removeEventListener("resize",o))}cleanup(){for(let e of this.cleanups)e()}setupNavigationControls(){let e=document.createElement("div");e.className="mermaid-controls";let r=this.createButton("+",()=>this.zoom(.1)),t=this.createButton("-",()=>this.zoom(-.1)),o=this.createButton("Reset",()=>this.resetTransform());e.appendChild(t),e.appendChild(o),e.appendChild(r),this.container.appendChild(e)}createButton(e,r){let t=document.createElement("button");return t.textContent=e,t.className="mermaid-control-button",t.addEventListener("click",r),window.addCleanup(()=>t.removeEventListener("click",r)),t}onMouseDown(e){e.button===0&&(this.isDragging=!0,this.startPan={x:e.clientX-this.currentPan.x,y:e.clientY-this.currentPan.y},this.container.style.cursor="grabbing")}onMouseMove(e){this.isDragging&&(e.preventDefault(),this.currentPan={x:e.clientX-this.startPan.x,y:e.clientY-this.startPan.y},this.updateTransform())}onMouseUp(){this.isDragging=!1,this.container.style.cursor="grab"}zoom(e){let r=Math.min(Math.max(this.scale+e,this.MIN_SCALE),this.MAX_SCALE),t=this.content.getBoundingClientRect(),o=t.width/2,n=t.height/2,c=r-this.scale;this.currentPan.x-=o*c,this.currentPan.y-=n*c,this.scale=r,this.updateTransform()}updateTransform(){this.content.style.transform=`translate(${this.currentPan.x}px, ${this.currentPan.y}px) scale(${this.scale})`}resetTransform(){this.scale=1;let e=this.content.querySelector("svg");this.currentPan={x:e.getBoundingClientRect().width/2,y:e.getBoundingClientRect().height/2},this.updateTransform()}},C=["--secondary","--tertiary","--gray","--light","--lightgray","--highlight","--dark","--darkgray","--codeFont"],E;document.addEventListener("nav",async()=>{let e=document.querySelector(".center").querySelectorAll("code.mermaid");if(e.length===0)return;E||=await import("https://cdnjs.cloudflare.com/ajax/libs/mermaid/11.4.0/mermaid.esm.min.mjs");let r=E.default,t=new WeakMap;for(let n of e)t.set(n,n.innerText);async function o(){for(let s of e){s.removeAttribute("data-processed");let a=t.get(s);a&&(s.innerHTML=a)}let n=C.reduce((s,a)=>(s[a]=window.getComputedStyle(document.documentElement).getPropertyValue(a),s),{}),c=document.documentElement.getAttribute("saved-theme")==="dark";r.initialize({startOnLoad:!1,securityLevel:"loose",theme:c?"dark":"base",themeVariables:{fontFamily:n["--codeFont"],primaryColor:n["--light"],primaryTextColor:n["--darkgray"],primaryBorderColor:n["--tertiary"],lineColor:n["--darkgray"],secondaryColor:n["--secondary"],tertiaryColor:n["--tertiary"],clusterBkg:n["--light"],edgeLabelBackground:n["--highlight"]}}),await r.run({nodes:e})}await o(),document.addEventListener("themechange",o),window.addCleanup(()=>document.removeEventListener("themechange",o));for(let n=0;n<e.length;n++){let v=function(){let g=l.querySelector("#mermaid-space"),m=l.querySelector(".mermaid-content");if(!m)return;y(m);let w=c.querySelector("svg").cloneNode(!0);m.appendChild(w),l.classList.add("active"),g.style.cursor="grab",u=new h(g,m)},M=function(){l.classList.remove("active"),u?.cleanup(),u=null},c=e[n],s=c.parentElement,a=s.querySelector(".clipboard-button"),d=s.querySelector(".expand-button"),p=window.getComputedStyle(a),L=a.offsetWidth+parseFloat(p.marginLeft||"0")+parseFloat(p.marginRight||"0");d.style.right=`calc(${L}px + 0.3rem)`,s.prepend(d);let l=s.querySelector("#mermaid-container");if(!l)return;let u=null;d.addEventListener("click",v),f(l,M),window.addCleanup(()=>{u?.cleanup(),d.removeEventListener("click",v)})}});
</script><script src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../../../../postscript.js" type="module"></script></html>